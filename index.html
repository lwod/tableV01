<style>
    #map{
        height: 400px;
        width: 100%;
    }

</style>
<body>
<div id="map"></div>

<div id="title"></div>

  <script>
	function initMap (){
		const options = {
			zoom : 8,
			center: {
				lat : 42.35,
				lng : -71.05
			}
		}

		let map = new google.maps.Map(document.getElementById('map'),options);
		// https://simg.nicepng.com/png/small/440-4409287_heres-a-little-more-info-about-what-makes.png

        google.maps.event.addListener(map, 'click', function (event){
            addMarker({
                coords:event.latLng
            });
          
          
  fetch('https://lwod.herokuapp.com/test', {
  method: 'post',
  headers: {
    'Accept': 'application/json, text/plain, */*',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({lat: event.latLng.lat, lng: event.latLng.lng})
}).then(res => res.json())
  .then(res => console.log(res));
  
//   });
          
          
        });

        const markers = [
	        {
		        coords:{
			        lat:42.5668,
			        lng:-70.9495,
		        },
		        content: `<i>some str 0</i>`
		        //iconImage:"https://simg.nicepng.com/png/small/440-4409287_heres-a-little-more-info-about-what-makes.png",
	        },
	        {
		        coords:{
			        lat:42.3668,
			        lng:-70.9495,
		        },
		        content: `<i>some str 1</i>`
		        //iconImage:"https://simg.nicepng.com/png/small/440-4409287_heres-a-little-more-info-about-what-makes.png",
	        }
        ]

        for(i = 0; i < markers.length; i++){
        	addMarker(markers[i])
        }


        function addMarker (props){
			let marker = new google.maps.Marker({
                position: props.coords,
                map:map,
                icon:props.iconImage
            })

            // if(props.iconImage){
            // 	marker.setIcon(props.iconImage)
            // }
        if(props.content){
        	const infoWindow = new google.maps.InfoWindow({
                content: props.content
            })

            marker.addListener('click', function (){
            	infoWindow.open(map,marker);
            })
	}
        }

	}
</script>


<script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBdDXrVbMRNQ67za2Ci2P_MYDX1OCy7LXE&callback=initMap&language=en">
</script>

  

</body>


